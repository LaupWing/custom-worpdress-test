(()=>{"use strict";const e=window.wp.element,t=window.wp.components,n=window.wp.blockEditor;!function(){let e=!1;wp.data.subscribe((function(){const t=wp.data.select("core/block-editor").getBlocks().filter((function(e){return"ourplugin/are-you-paying-attention"==e.name&&null==e.attributes.correctAnswer}));t.length&&!e&&(e=!0,wp.data.dispatch("core/editor").lockPostSaving("noanswer")),!t.length&&e&&(e=!1,wp.data.dispatch("core/editor").unlockPostSaving("noanswer"))}))}(),wp.blocks.registerBlockType("ourplugin/are-you-paying-attention",{title:"Are You Paying Attention?",icon:"smiley",category:"common",attributes:{question:{type:"string"},answers:{type:"array",default:["red","blue"]},correctAnswer:{type:"number",default:void 0}},edit:r=>(0,e.createElement)("div",{className:"paying-attention-edit-block"},(0,e.createElement)(n.InspectorControls,null,(0,e.createElement)(t.PanelBody,{title:"Background Color",initialOpen:!0},(0,e.createElement)(t.PanelRow,null,"Hello!"))),(0,e.createElement)(t.TextControl,{value:r.attributes.question,onChange:e=>{r.setAttributes({question:e})},label:"Question: ",style:{fontSize:"20px"}}),(0,e.createElement)("p",{style:{fontSize:"13px",margin:"20px 0 8px 0"}},"Answers:"),r.attributes.answers.map(((n,a)=>(0,e.createElement)(t.Flex,null,(0,e.createElement)(t.FlexBlock,null,(0,e.createElement)(t.TextControl,{onChange:e=>{const t=[...r.attributes.answers];t[a]=e,r.setAttributes({answers:t})},value:n})),(0,e.createElement)(t.FlexItem,null,(0,e.createElement)(t.Button,{onClick:()=>{var e;e=a,r.setAttributes({correctAnswer:e})}},(0,e.createElement)(t.Icon,{className:"mark-as-correct",icon:r.attributes.correctAnswer==a?"star-filled":"star-empty"}))),(0,e.createElement)(t.FlexItem,null,(0,e.createElement)(t.Button,{isLink:!0,className:"attention-delete",onClick:()=>{return e=a,r.setAttributes({answers:[...r.attributes.answers].filter(((t,n)=>n!==e))}),void(e==r.attributes.correctAnswer&&r.setAttributes({correctAnswer:void 0}));var e}},"Delete"))))),(0,e.createElement)(t.Button,{isPrimary:!0,onClick:()=>{r.setAttributes({answers:[...r.attributes.answers,""]})}},"Add another answer")),save:()=>null})})();